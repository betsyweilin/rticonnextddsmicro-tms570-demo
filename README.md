# rticonnextddsmicro-tms570-demo

This repository includes a sample project on how to run **RTI Connext DDS Micro** on
**TMS570LC43x**.

This sample project shows that it is possible to run RTI Connext DDS Micro on TMS570LC43x
and it can be used as example by developers who wish to add DDS communications to their
microcontroller based applications.

## Demo Description

This demo application creates two [FREERTOS](http://www.freertos.org/) tasks, one is the publisher and the other 
the subscriber. Only one participant is created, which is shared by both the publisher and 
subscriber.

Communication between publisher and subscriber is done via the [Micro INTRA Transport](https://community.rti.com/static/documentation/connext-micro/2.4.6/doc/html/group__UserManuals__INTRATranport.html).

The data definition includes only one ```long``` number. Once per second the publisher task 
increases a counter, copies it to a field in a DDS sample, writes the sample and prints a 
message in the serial port. When a sample is received, the subscriber prints in the serial port 
a message including the number in the sample.

## Hardware

This demo application has been tested on [LAUNCHXL2-570LC43](http://www.ti.com/tool/launchxl2-570lc43). The Hercules™ TMS570LC43x 
LaunchPad™ Development Kit is a low-cost evaluation platform based on the highest 
performance [Hercules MCU TMS570LC4357](http://www.ti.com/product/TMS570LC4357). 

## Source Code

Code generated by [HALCoGen](http://www.ti.com/tool/HalCoGen) (including FREERTOS source code) cannot be added to this public 
reposity as HALCoGen license forbids it.

Send an email to support@rti.com to know how to generate those files and what changes are needed.

## How to run the demo

1. Import the demo project into Code Composer Studio (we have used version 6.1.1.00022)
2. Switch to “CCS Debug” perspective.
3. On the menu, click Window > Show View > Target Configurations.
4. Right-click in file TMS570LC43xx.ccxml and select “Launch Selected Configuration” on the context menu.
5. On the menu, select Run > Connect Target.
6. On the menu, click Run > Load > Load Program and select the included file DDS_TMS570LC43_demo.out.
7. On the menu, click Run > Resume to run the program.

The configuration needed for the serial port in order to see the output from the demo is the following:

* Baud rate: 9600. 
* Data bits: 8. 
* Stop bits: 2. 
* Parity: None. 
* Flow Control: None. 

## More information

To know more read this [blog](https://blogs.rti.com/2016/06/23/running-rti-connext-dds-micro-on-hercules-tms570-mcus-tutorial/)
and this [tutorial](http://info.rti.com/connext-micro-embedded-tutorial).

